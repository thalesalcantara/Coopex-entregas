<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Login | COOPEX Painel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <style>
    body.login-bg {
        background: linear-gradient(120deg, #003399 0%, #0a185f 100%);
        min-height: 100vh;
        margin: 0;
        font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .login-container {
        width: 100vw;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    .login-card {
        background: #fff;
        border-radius: 2rem;
        box-shadow: 0 10px 40px #00339940;
        padding: 2.5rem 2rem 2rem 2rem;
        width: 350px;
        max-width: 90vw;
        display: flex;
        flex-direction: column;
        align-items: center;
        animation: fadeIn 1.1s cubic-bezier(.28,.84,.42,1);
        position: relative;
    }
    .logo-coopex {
        width: 70px;
        height: 70px;
        margin-bottom: 18px;
        background: url('/static/coopex_logo.png') no-repeat center center;
        background-size: contain;
        border-radius: 50%;
        box-shadow: 0 2px 18px #00339922;
    }
    h2 {
        color: #003399;
        margin-bottom: 1rem;
        font-weight: 700;
        letter-spacing: .03em;
        font-size: 2rem;
    }
    form {
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 0.7rem;
    }
    label {
        color: #003399;
        font-size: 1.03rem;
        font-weight: 600;
    }
    .input-group {
        position: relative;
        display: flex;
        align-items: center;
    }
    input[type="text"], input[type="password"] {
        padding: 0.6rem 1rem;
        border: 1.2px solid #c3d1ee;
        border-radius: 1.2rem;
        background: #f6f9ff;
        font-size: 1.05rem;
        outline: none;
        width: 100%;
        transition: border 0.2s;
    }
    input:focus {
        border: 1.5px solid #003399;
    }
    .toggle-password {
        position: absolute;
        right: 1.1rem;
        background: none;
        border: none;
        font-size: 1.2rem;
        cursor: pointer;
        color: #003399b0;
        z-index: 2;
        top: 50%;
        transform: translateY(-50%);
    }
    .btn-primary {
        margin-top: 1rem;
        padding: 0.7rem;
        background: linear-gradient(90deg, #003399 60%, #0a185f 100%);
        color: #fff;
        border: none;
        border-radius: 1.2rem;
        font-size: 1.1rem;
        font-weight: 700;
        letter-spacing: .03em;
        cursor: pointer;
        transition: background 0.2s, transform 0.18s;
        box-shadow: 0 2px 10px #00339924;
    }
    .btn-primary:hover {
        background: linear-gradient(90deg, #1843b7 60%, #233278 100%);
        transform: scale(1.035);
    }
    .flash-message {
        background: #ffedef;
        color: #b20033;
        border-radius: 0.7rem;
        padding: 0.6rem 1rem;
        margin-bottom: 1rem;
        font-weight: 600;
        text-align: center;
        font-size: 1rem;
        box-shadow: 0 1px 6px #ff003311;
    }
    footer {
        margin-top: 32px;
        text-align: center;
        color: #fff;
        opacity: 0.7;
        font-size: 0.92rem;
        letter-spacing: .01em;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(24px);}
        to { opacity: 1; transform: translateY(0);}
    }
    </style>
</head>
<body class="login-bg">
    <div class="login-container">
        <div class="login-card">
            <div class="logo-coopex"></div>
            <h2>Painel COOPEX</h2>
            {% with messages = get_flashed_messages() %}
              {% if messages %}
                <div class="flash-message">
                  {{ messages[0] }}
                </div>
              {% endif %}
            {% endwith %}
            <form method="post" autocomplete="off">
                <label for="username">Usu√°rio</label>
                <input type="text" name="username" id="username" required autofocus autocomplete="username">
                <label for="senha">Senha</label>
                <div class="input-group">
                    <input type="password" name="senha" id="senha" required autocomplete="current-password">
                    <button type="button" class="toggle-password" tabindex="-1" aria-label="Mostrar/ocultar senha" onclick="togglePassword()">
                        <span id="eye">üëÅÔ∏è</span>
                    </button>
                </div>
                <button class="btn-primary" type="submit">Entrar</button>
            </form>
        </div>
        <footer>
            <small>¬© {{ now().year }} COOPEX - Todos os direitos reservados</small>
        </footer>
    </div>
    <script>
    // Mostrar/ocultar senha
    function togglePassword() {
        var input = document.getElementById('senha');
        var eye = document.getElementById('eye');
        if (input.type === "password") {
            input.type = "text";
            eye.textContent = "üôà";
        } else {
            input.type = "password";
            eye.textContent = "üëÅÔ∏è";
        }
    }
    // Foco suave ao carregar
    window.onload = function() {
        document.getElementById('username').focus();
    };
    </script>
</body>
</html>
